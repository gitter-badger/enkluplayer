var fsm = require("Resources/Common/StateMachine")();

var booting = require("Booting")(fsm, "Booting");
var updating = require("Updating")(fsm, "Updating");
var calibrating = require("Calibrating")(fsm, "Calibrating");
var scanning = require("Scanning")(fsm, "Scanning");
var loading = require("Loading")(fsm, "Loading");
var final = require("Final")(fsm, "Final");

fsm.initialize([
	booting,
	updating,
	calibrating,
	scanning,
	loading,
	final]);

function enter() {
	log.info("Startup.");

	fsm.changeState("Booting");
}

function update() {
	fsm.update();
}